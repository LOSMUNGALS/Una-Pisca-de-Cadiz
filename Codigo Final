n1 = 1.18
n2 = 0.18
tapas = {
    "pinchos de camaron": 275,
    "camarones con garbanzo": 250,
    "tortillitas de camarones": 215,
    "pulpo a la gallega": 200,
    "patata brava": 310
}

menu = {
    "tortilla de papas": 250,
    "paella": 375,
    "gazpacho andaluz": 300,
    "cocido madrileño": 315,
    "paella valenciana": 395,
    "filete de merluza en papillote": 500,
    "bacalao al pil pil": 365
}

postres = {
    "tiramisu": 450,
    "churros con chocolate": 425,
    "brownies con helado": 300
}

print("Bienvenido a el restaurante Un Rincón de Cádiz")
while True:
    reserva = str(input("¿Tienes reserva, si o no?: ")).lower()
    mesas_ya_reeservadas = [3,6,7,15,18]
    if reserva == "si":
        nombre = str(input("¿Cuál es el nombre con el que está registrada la reserva?: "))
        print(f"Bienvenido/a {nombre}, acompáñeme a su mesa reservada.")
        break
    elif reserva == "no":
        while True:
            mesa = int(input("Afortunadamente tenemos mesas disponibles, que mesa le gustaría, tenemos de la mesa 1 a la 20: "))
            if mesa in mesas_ya_reeservadas:
                print("Lo siento esa mesa ya esta ocupada o reservada, escoja otra por favor")
            elif mesa > 20 or mesa < 1:
                print("no tenemos ese numero de mesas, vuelva a intentar")
            else:
                print("Ok, dejame llevarte a tu mesa")
                break
        nombre = str(input("¿Cuál es su nombre?: "))
        print(f"Bienvenido/a {nombre}, acompáñeme a su mesa.")
        break
    else:
        print("Por favor responde si o no.")

print("Ahora, bienvenidos a Una Pisca de Cadiz, elija su tapa.")
total = 0

while True:
    print(tapas)
    sabor = input("Elige una tapa (o escriba 'Nada mas' para terminar): ").lower()
    if sabor in tapas:
        total += tapas[sabor]
        print(f"Has elegido {sabor}. ¿Algo más?")
    elif sabor.lower() == "nada mas":
        break
    else:
        print("No tenemos ese plato.")

print("Seguimos con los platos principales.")

while True:
    print(menu)
    sabor = input("Elige un plato principal (o escriba 'Nada mas' para terminar): ").lower()
    if sabor in menu:
        total += menu[sabor]
        print(f"Has elegido {sabor}. ¿Algo más?")
    elif sabor.lower() == "nada mas":
        break
    else:
        print("No tenemos ese plato.")

print("Por último, terminamos con los postres.")

while True:
    print(postres)
    sabor = input("Elige un postre (o escriba 'Nada mas' para terminar): ").lower()
    if sabor in postres:
        total += postres[sabor]
        print(f"Has elegido {sabor}. ¿Algo más?")
    elif sabor.lower() == "nada mas":
        break
    else:
        print("No tenemos ese postre.")

impuestostotal = n2 * total
impuestos = total * n1
 
print(f"Su total es: {total} pesos, con impuestos es {impuestos}. También, el 18% de ITBIS en pesos es {impuestostotal}")
tip = int(input("Quisiera añadir un tip (ponga cualquier otra cosa si no quiere poner un tip)? "))
if tip > 0:
    totaltip = tip + total
    totaltipimp = tip + impuestos

    print(f"Okay, su nuevo total es: {totaltip} pesos, con impuestos es {totaltipimp}. Tambien, el 18% de ITBIS en pesos es {impuestostotal}")
    print(f"Que tenga buen dia y esperamos volverlo a ver, {nombre} y gracias por confiar en nosotros!")
